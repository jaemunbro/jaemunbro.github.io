<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Features of NoSQL Databases (NoSQL 데이터베이스별 특징)" /><meta name="author" content="Jaemun Jung" /><meta property="og:locale" content="en_US" /><meta name="description" content="초기의 파일 기반이나 계층형 데이터베이스 이후 수십년동안 데이터베이스가 곧 관계형 데이터베이스로 이해될 만큼 관계형 데이터베이스 중심의 시장이 지속되어 왔다. 그러나 최근 몇 년간 대용량 데이터에 대한 요구가 급격히 커지면서 대용량 데이터의 처리에 강점을 가진 NoSQL과 같은 다양한 데이터베이스 모델이 개발되었다." /><meta property="og:description" content="초기의 파일 기반이나 계층형 데이터베이스 이후 수십년동안 데이터베이스가 곧 관계형 데이터베이스로 이해될 만큼 관계형 데이터베이스 중심의 시장이 지속되어 왔다. 그러나 최근 몇 년간 대용량 데이터에 대한 요구가 급격히 커지면서 대용량 데이터의 처리에 강점을 가진 NoSQL과 같은 다양한 데이터베이스 모델이 개발되었다." /><link rel="canonical" href="https://jaemunbro.github.io/posts/nosql-databases/" /><meta property="og:url" content="https://jaemunbro.github.io/posts/nosql-databases/" /><meta property="og:site_name" content="Jaemun Jung" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-06T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Features of NoSQL Databases (NoSQL 데이터베이스별 특징)" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Jaemun Jung"},"description":"초기의 파일 기반이나 계층형 데이터베이스 이후 수십년동안 데이터베이스가 곧 관계형 데이터베이스로 이해될 만큼 관계형 데이터베이스 중심의 시장이 지속되어 왔다. 그러나 최근 몇 년간 대용량 데이터에 대한 요구가 급격히 커지면서 대용량 데이터의 처리에 강점을 가진 NoSQL과 같은 다양한 데이터베이스 모델이 개발되었다.","url":"https://jaemunbro.github.io/posts/nosql-databases/","@type":"BlogPosting","headline":"Features of NoSQL Databases (NoSQL 데이터베이스별 특징)","dateModified":"2021-02-06T00:00:00+09:00","datePublished":"2021-02-06T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaemunbro.github.io/posts/nosql-databases/"},"@context":"https://schema.org"}</script><title>Features of NoSQL Databases (NoSQL 데이터베이스별 특징) | Jaemun Jung</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-WKRD9Q3FPK"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-WKRD9Q3FPK'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://media-exp1.licdn.com/dms/image/C5103AQGerVQv-H9XRg/profile-displayphoto-shrink_400_400/0/1586752686385?e=1640217600&v=beta&t=CDknpaAWkjeC1KFgz9zAhkxrhUhAvxCrcjnZJtElD3U" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jaemun Jung</a></div><div class="site-subtitle font-italic">Data Engineer. Let the data flow!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/jaemunbro" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jaemunbro','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://jaemunbro.medium.com/" aria-label="medium" target="_blank" rel="noopener"> <i class="fab fa-medium"></i> </a> <a href="https://www.linkedin.com/in/ryan-jaemun-jung-055350b3/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Features of NoSQL Databases (NoSQL 데이터베이스별 특징)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Features of NoSQL Databases (NoSQL 데이터베이스별 특징)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Jaemun Jung </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Feb 6, 2021, 12:00 AM +0900" prep="on" > Feb 6 <i class="unloaded">2021-02-06T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3761 words">20 min</span></div></div><div class="post-content"><p>초기의 파일 기반이나 계층형 데이터베이스 이후 수십년동안 데이터베이스가 곧 관계형 데이터베이스로 이해될 만큼 관계형 데이터베이스 중심의 시장이 지속되어 왔다. 그러나 최근 몇 년간 대용량 데이터에 대한 요구가 급격히 커지면서 대용량 데이터의 처리에 강점을 가진 NoSQL과 같은 다양한 데이터베이스 모델이 개발되었다.</p><p>관계형 데이터베이스와 NoSQL 데이터베이스의 특징과 차이에 대해 간단히 정리해보자.</p><ul><li>관계형 데이터베이스는 엔터티의 구조와 엔터티 간의 관계를 토대로 설계하지만, NoSQL에서는 일반적으로 엔터티 관계 구조를 갖지 않는다.<li>관계형 모델은 데이터 간의 관계를 정의하고 데이터 정합성, 일관성을 유지하기 위한 모델로서 출현했다. NoSQL은 대용량 데이터의 읽기와 쓰기 작업을 위해 기존 관계형 데이터베이스 구조로는 부족한 점에 대한 대안으로서 출현했다.</ul><h3 id="nosql의-일반적인-장단점">NoSQL의 일반적인 장단점</h3><hr /><ul><li>장점<ul><li>NoSQL은 대용량 데이터의 읽기와 쓰기에 강점을 가진다. (수평적 확장이 용이하다)<li>관계형 데이터베이스에서 명확하게 정의된 스키마를 강제함을 통해 데이터 무결성을 보장한다면, NoSQL에서는 유연하게 스키마를 정의할 수 있다. 이러한 장점을 활용해서 document DB등에서 스키마 디자인등에 구애받지 않는 빠른 테스트를 진행해볼 수도 있다.</ul><li>단점<ul><li>대용량 데이터의 읽기와 쓰기에 대한 trade-off로, 관계형 데이터의 주요한 특성인 즉각적인 일관성(consistency)을 만족시키지 못하는 경우가 많다. 일반적으로 최종적인 일관성(Eventually consistent)을 지원한다.<li>ACID 트랜잭션을 지원하지 않을 수 있다.<li>스키마를 강제하지 않으므로 그 정의가 유연하고 편리한 대신, 개발자가 애플리케이션 레벨에서 데이터에 대한 무결성 검증을 직접 해야만 한다.<li>보편적인 SQL 문법을 지원하지 않는 경우가 많으므로 이에 대한 Learning Curve가 상대적으로 큰 편이다.</ul></ul><h1 id="cap-theorem">CAP Theorem</h1><hr /><p>CAP 정리는 NoSQL에 대해 처음에 이해하기 위해 가장 많이 언급되는 이론이다.<br /> 하지만 CAP 정리는 하나의 일관성 모델과 한 종류의 결함(네트워크 분단)만 고려하므로 실제 시스템에서 고려해야 하는 네트워크 지연, 죽은 노드나 다른 트레이드오프들에 대해서 고려하지 않는다는 한계가 있다. 따라서 CAP 정리는 초기에 NoSQL 컨셉에 대한 이해를 돕기 위한 목적 외에 실제 시스템을 설계할 때 쓰기 위한 실용적인 가치는 크지 않다는 점을 알아두자.</p><ul><li>Consistency(일관성) : 모든 노드들은 같은 시간에 동일한 항목에 대하여 같은 내용의 데이터를 사용자에게 보여준다.<li>Availability(가용성) : 모든 사용자들이 읽기 및 쓰기가 가능해야 하며, 몇몇 노도의 장애 시에도 다른 노드에 영향을 미치지 않는다.<li>Partition Tolerance(분할내성) : 메시지 전달이 실패하거나 시스템 일부가 망가져도 시스템이 계속 동작할 수 있어야 한다.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/117692092-a0ef2e00-b1f7-11eb-8846-2828f79b87c5.png" alt="image" /><em>Database Systems according to the CAP theorem, from https://www.researchgate.net/</em></p><p>위의 조건에서 P를 기본조건으로 두고, Consistency와 Availability가 충돌하는 상황의 예시를 보자.</p><ul><li><strong>CP</strong> : 애플리케이션에서 일관성을 요구하는 상황에서 일부 복제 서버가 네트워크 문제로 다른 서버와 연결이 끊기면 그동안은 연결을 처리할 수 없다. 네트워크 문제가 고쳐질 때까지 기다리거나 오류를 반환해야한다. 어떻게 해도 가용성(Availability)이 보장되지 않는다.<li><strong>AP</strong> : 애플리케이션에서 일관성을 요구하지 않는다면, 각 복제 서버가 연결이 끊기더라도 독립적으로 요청을 처리하는 식으로 가용성(Availability)을 제공할 수 있다. 단 일관성은 깨어진 상태일 것이다.</ul><h1 id="nosql-데이터베이스별-특성">NoSQL 데이터베이스별 특성</h1><hr /><p>NoSQL 데이터베이스를 세분화해서 Key-Value, Document등 각 NoSQL 데이터베이스별 특성을 알아보고, 우리 애플리케이션에 맞는 데이터베이스는 무엇일지 고민해보았다.</p><p>NoSQL 데이터베이스의 특성을 크게 네가지로 나누면 다음과 같이 나눌 수 있다.</p><ul><li>Key-Value Database<li>Document Database<li>Column Family Database<li>Graph Database</ul><p>본문에서 Graph Database를 제외한 나머지 세개의 데이터베이스의 특성에 대해 간단히 정리하고 어떤 상황에 어떤 데이터베이스가 적합할지 알아보고자 한다.</p><h1 id="key-value-database">Key-Value Database</h1><hr /><p>키와 값으로 이루어진, 저장과 조회라는 가장 간단한 원칙에 충실한 데이터베이스. 더 넓은 의미로 Key-Value Database를 사용하는 경우 Column Family Database들도 포함하여 이야기하는 경우도 많다. 본문에서는 조금 더 세분화해서 그 둘을 구분해서 분류하였다.</p><p><strong>Key-Value Database의 Key 값은 unique한 고유값</strong>으로 유지되어야 한다.<br /> <strong>테이블간 조인을 고려하지 않으므로 RDB(Relational Database)에서 관리하는 외부키나, 컬럼별 constraints등이 필요 없다.</strong> 값에 모든 데이터 타입을 허용하며, 그래서 개발자들이 데이터 입력 단계에서 <strong>애플리케이션 레벨에 검증 로직</strong>을 제대로 구현하는 것이 중요하다.(schema-on-read)<br /> Key-Value Database는, 간단한 데이터 모델을 대상으로 데이터를 자주 읽고 쓰는 애플리케이션에 적합하다. 값은 boolean이나 integer값처럼 단순한 스칼라 값이 일반적이지만, 리스트나 JSON같은 구조화된 값도 가능하다.</p><h3 id="key-value-databases">Key-Value Databases</h3><ul><li>Redis<li>Riak<li>Oracle Berkely<li>AWS DynamoDB</ul><h3 id="key-value-database는-주로-아래와-같은-형태의-애플리케이션에서-사용된다">Key-Value Database는 주로 아래와 같은 형태의 애플리케이션에서 사용된다.</h3><ol><li>성능 향상을 위해 관계형 데이터베이스에서 데이터 캐싱<li>장바구니 같은 웹 애플리케이션에서 일시적인 속성 추적<li>모바일 애플리케이션용 사용자 데이터 정보와 구성 정보 저장<li>이미지나 오디오 파일 같은 대용량 객체 저장</ol><h1 id="document-database">Document Database</h1><hr /><p>Document Database 또는 Document-Oriented Database는 위의 Key-Value Database와 같이 데이터 저장에 Key-Value Type를 사용한다.<br /> 하지만 Key-Value Database와의 중요한 차이는 <strong>Document Database는 값을 문서로 저장</strong>한다는 점이다. 여기서 문서란 <strong>semi-structured entity이며 보통 JSON이나 XML 같은 표준 형식</strong>을 말한다.<br /> 값을 저장하기 전에 schema를 별도로 정의하지 않으며, 문서를 추가하면 그게 바로 schema가 된다.<br /> 각 문서별로 다른 필드를 가질 수 있으며, 따라서 이 역시 <strong>개발자가 애플리케이션에서 데이터를 입력하는 단계에서 컬럼과 필드의 관리가 제대로 이루어지도록 보장</strong>하는 것이 매우 중요하다. 예를 들어 필수 속성(Null을 허용하지 않는 속성)에 대한 관리도 애플리케이션 레벨에서 관리가 이루어져야 한다.</p><p>예시로 MongoDB의 AirBnB DataSet의 일부를 보자. 다음과 같은 JSON 형태의 문서로 관리된다.</p><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
</span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10006546"</span><span class="p">,</span><span class="w">
</span><span class="nl">"listing_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.airbnb.com/rooms/10006546"</span><span class="p">,</span><span class="w">
</span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ribeira Charming Duplex"</span><span class="p">,</span><span class="w">
</span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)..."</span><span class="p">,</span><span class="w">
</span><span class="nl">"house_rules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Make the house your home..."</span><span class="p">,</span><span class="w">
</span><span class="nl">"property_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"House"</span><span class="p">,</span><span class="w">
</span><span class="nl">"calendar_last_scraped"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"$date"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"$numberLong"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1550293200000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="nl">"amenities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"TV"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Cable TV"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Wifi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Kitchen"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Paid parking off premises"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Smoking allowed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Microwave"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h3 id="document-databases">Document Databases</h3><ul><li>MongoDB<li>CouchDB<li>Couchbase</ul><h3 id="document-database는-다음과-같은-목적으로-주로-활용된다">Document Database는 다음과 같은 목적으로 주로 활용된다.</h3><ol><li>대용량 데이터를 읽고 쓰는 웹 사이트용 백엔드 지원<li>제품처럼 다양한 속성이 있는 데이터 관리<li>다양한 유형의 메타데이터 추적<li>JSON 데이터 구조를 사용하는 애플리케이션<li>비정규화된 중첩 구조의 데이터를 사용하는 애플리케이션</ol><h1 id="column-family-database">Column Family Database</h1><hr /><p>컬럼 패밀리 데이터베이스는 대용량 데이터, 읽기와 쓰기 성능, 고가용성을 위해 설계되었다. 구글에서 Big Table을 도입하고, 페이스북은 Cassandra를 개발했다.</p><p>Column과 Row와 같이 Relation Database와 동일한 용어를 사용하여 스키마를 정의한다.<br /> 컬럼 수가 많다면 관련된 컬럼들을 컬렉션으로 묶을 수 있다. 예를 들어 이름의 성과 이름을 하나로 묶고, 사무실, 핸드폰 등의 전화번호들을 하나로 묶을 수 있다. 이렇게 묶인 컬럼들을 <strong>Column Family</strong>라고 한다.</p><p>Document Database와 마찬가지로 미리 정의된 스키마를 사용하지 않으므로 개발자가 데이터를 입력하는 시점에 원하는대로 컬럼을 추가할 수 있다.<br /> 테이블간 조인을 지원하지 않는다.<br /> 관계형 데이터베이스에서 한 객체에 대한 정보를 저장하기 위해 여러 테이블에 나누어 저장한다. 예를 들면 고객의 기본 정보 테이블(이름, 주소, 연락처)와 고객의 주문 정보 테이블 등을 나누어서 저장하고 조인을 통해 이객체의 정보를 활용한다.<br /> 컬럼패밀리 데이터베이스는 일반적으로 <strong>비정규화 되어 있으며 한 객체에 관련된 모든 정보를 가능한 매우 너비가 넓은 단일 Row에 넣어서 보관</strong>한다. 따라서 한 Row에 수백만개의 컬럼을 보관하는 경우도 비정상적인 것은 아니다.<br /> 컬럼 패밀리 데이터베이스는 여러대로 구성된 클러스터에서 운영된다. 단일 서버에서 운영해도 될만큼 데이터가 적다면 문서나 키-값 데이터베이스를 고려하는 것이 나을 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/117672530-e6563000-b1e4-11eb-96f2-9363b51c2ab4.png" alt="image" title="Hbase의 Column Families(from https://www.tutorialspoint.com/hbase/hbase_create_data.html)" /><em>Hbase의 Column Families(from tutorialspoint</em></p><h3 id="column-family-databases">Column Family Databases</h3><ul><li>Hbase<li>Cassandra<li>GCP BigTable<li>Microsoft Azure Cosmos DB</ul><h3 id="column-family-database는-다음과-같은-경우에-활용을-고려하면-좋다">Column Family Database는 다음과 같은 경우에 활용을 고려하면 좋다.</h3><ol><li>데이터베이스에 쓰기 작업이 많은 애플리케이션<li>지리적으로 여러 데이터 센터에 분산되어 있는 애플리케이션<li>복제본 데이터가 단기적으로 불일치하더라도 큰 문제가 없는 애플리케이션<li>동적 필드를 처리하는 애플리케이션<li>수백만 테라바이트 정도의 대용량 데이터를 처리할 수 있는 애플리케이션</ol><h2 id="hbase-vs-cassandra">HBase vs Cassandra</h2><hr /><p>Column Family Database의 대표격인 Hbase와 Cassandra를 비교해보자.<br /> 두 데이터베이스 중 더 보편적으로 활용되는 것은 Cassandra이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/117672932-464cd680-b1e5-11eb-9e7c-dcec38066f8d.png" alt="image" title="Column Family Database(A.K.A Wide Column Stores)의 트렌드 차트(DB-Engines.com)" /><em>Column Family Database(A.K.A Wide Column Stores)의 트렌드 차트(DB-Engines.com)</em></p><p>아래는 Hbase와 Cassandra간의 Benchmark 테스트 자료(2017)가 있어 첨부하였다.<br /> high-io가 일어나는 프로덕션 환경을 가정하여 SSD 기반의 머신 5대에서 수행하였다. 벤치마크에 사용된 것은 YCSB(Yahoo! Cloud Serving Benchmark) 툴이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/117673071-68465900-b1e5-11eb-8fb1-18013019e2f3.png" alt="image" title="hbase와 cassandra benchmark test" /><em>(hbase와 cassandra benchmark test from https://blog.cloudera.com/hbase-cassandra-benchmark/)</em></p><p>위의 벤치마크 테스트 결과를 보면 Hbase가 대부분의 heavy한 read 작업에서 Cassandra보다 더 나은 성능을 보이고 있다. HBase의 주요한 사용 사례인 search engine이나 high-frequency transaction 애플리케이션, 대용량 로그 분석에 잘 들어맞는 결과이다. 반면에 Cassandra는 write-heavy한 작업에서 데이터일관성을 유지하며 좋은 결과를 보였다. 따라서 빠른 수행 시간보다 분석 데이터 수집이나 센서 데이터 수집 등 일관성 있는 데이터의 수집이 더 중요한 경우에 적절한 대안이 될 수 있을 것이다.</p><p>위와 같이 전반적으로 Hbase가 Cassandra보다 일반적으로 더 나은 성능을 보임에도 불구하고 Cassandra가 더 보편적으로 선호되는 이유는 무엇일까?<br /> 이는 시스템 복잡도나 Learning Curve가 HBase가 더 높기 때문으로 보인다.<br /> Hbase 자체로는 SQL-Like Language를 제공하지 않아 JRuby 베이스의 HBase shell을 활용해서 쿼리해야 한다. 이 때문에 일단 SQL 대비 Learning curve가 있는 편이다. 혹은 Apache Phoenix라는 쿼리를 위한 별도의 솔루션을 추가로 구성해야한다. 혹은 기존Spark나 Hive와 같은 커넥터를 활용할 수 있는데, 이러한 커넥터를 활용하는 DFS경우 상대적으로 high latency가 발생하게 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/117673308-a6437d00-b1e5-11eb-9423-c1a7edc6ec19.png" alt="image" /><em>(Hive와 Phoenix를 활용한 Hbase 쿼리 성능 from https://phoenix.apache.org/performance.html)</em> 클러스터 구축면에서도 HBase가 더 난이도가 높은 편이다. Hadoop Cluster의 Data nodes에 구성하므로 스케일링은 편리하지만, 최소 5대의 데이터 노드와 하나의 네임노드를 필요로 하는 만큼 최소 유지비용이 많이 드는 편이다.<br /> 또한 HBase는 단독 클러스터 구성이 불가하며 HDFS를 스토리지로 활용하고 Apache Zookeeper를 status 관리와 metadata에 활용하므로, 이러한 기술에 익숙치 않다면 환경 설정이 상대적으로 어려울 수 있다.<br /> 이렇게 HBase 환경을 구축하고 원활하게 운영하기 위해서는 Cassandra 대비 좀 더 난이도 있는 엔지니어링 리소스와 Learning curve를 필요로 하기 때문에 Cassandra가 더 보편적으로 활용되는 것으로 보인다.</p><h1 id="reference">Reference</h1><p>Dan Sullivan, Perfect Introduction to NoSQL(NoSQL 철저입문), 2015, 길벗<br /> <a href="https://blog.cloudera.com/hbase-cassandra-benchmark/">https://blog.cloudera.com/hbase-cassandra-benchmark/</a> <a href="https://logz.io/blog/nosql-database-comparison/">Cassandra vs. MongoDB vs. Hbase: A Comparison of NoSQL Databases</a> <a href="https://www.kdnuggets.com/2018/08/dynamodb-vs-cassandra.html">DynamoDB vs. Cassandra: from “no idea” to “it’s a no-brainer” - KDnuggets</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/nosql/'>NoSQL</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/nosql/" class="post-tag no-text-decoration" >nosql</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Features of NoSQL Databases (NoSQL 데이터베이스별 특징) - Jaemun Jung&url=https://jaemunbro.github.io/posts/nosql-databases/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Features of NoSQL Databases (NoSQL 데이터베이스별 특징) - Jaemun Jung&u=https://jaemunbro.github.io/posts/nosql-databases/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Features of NoSQL Databases (NoSQL 데이터베이스별 특징) - Jaemun Jung&url=https://jaemunbro.github.io/posts/nosql-databases/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://jaemunbro.github.io/posts/nosql-databases/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/whatis-mlops/">ML - What is MLOps? (MLOps란)</a><li><a href="/posts/blog-migration/">블로그 이사</a><li><a href="/posts/yarn-scheduler/">Hadoop - YARN Scheduler setting (하둡 - YARN 스케쥴러 설정)</a><li><a href="/posts/spark-config-executors/">Spark - Config Executors (스파크 - 최적의 익스큐터 사이즈와 개수 정하기)</a><li><a href="/posts/troubleshooting-spark/">Spark - Troubleshooting Cheatsheet (스파크 - 트러블슈팅 가이드)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spark/">spark</a> <a class="post-tag" href="/tags/executor/">executor</a> <a class="post-tag" href="/tags/hadoop/">hadoop</a> <a class="post-tag" href="/tags/ml/">ml</a> <a class="post-tag" href="/tags/mlops/">mlops</a> <a class="post-tag" href="/tags/nosql/">nosql</a> <a class="post-tag" href="/tags/optimization/">optimization</a> <a class="post-tag" href="/tags/scheduler/">scheduler</a> <a class="post-tag" href="/tags/thoughts/">thoughts</a> <a class="post-tag" href="/tags/troubleshooting/">troubleshooting</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/whatis-mlops/"><div class="card-body"> <span class="timeago small" > May 22 <i class="unloaded">2021-05-22T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ML - What is MLOps? (MLOps란)</h3><div class="text-muted small"><p> MLOps가 무엇인고? Medium Blog MLOps가 무엇인고?에 작성했던 글을 옮겨옴. 근래 들어 MLOps라는 용어가 점점 더 보편적이 되어가고 있다. 이것은 또 무엇에 쓰는 물건인고? 한번 알아보자. MLOps의 정의 먼저 한 문장으로 간단히 정의해보면, 개발과 운영을 따로 나누지 않고 개발의 생산성과 운영의 안정성을 최적화하기...</p></div></div></a></div><div class="card"> <a href="/posts/yarn-scheduler/"><div class="card-body"> <span class="timeago small" > May 9 <i class="unloaded">2021-05-09T11:45:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hadoop - YARN Scheduler setting (하둡 - YARN 스케쥴러 설정)</h3><div class="text-muted small"><p> YARN의 스케쥴러 타입에 대해 알아보기 전에 YARN에 대해서도 간단히 살펴보자. YARN YARN은 (Yet Another Resource Negotiator)은 하둡의 크러스터 자원관리 시스템이다. YARN은 클러스터의 자원을 요청하고 사용하기 위한 API를 제공한다. YARN은 리소스 매니저와 노드 매니저 두가지 장기 실행 데몬을 통해 ...</p></div></div></a></div><div class="card"> <a href="/posts/spark-basic-optimization/"><div class="card-body"> <span class="timeago small" > May 1 <i class="unloaded">2021-05-01T01:43:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spark - Core Optimization (스파크 - 최적화)</h3><div class="text-muted small"><p> 스파크의 기본적인 최적화 세팅 방법들에 대해 정리해보자. 본문 작성에 주되게 참조한 소스는 Spark + AI Summit Europe 2019에서 발표한 Databricks의 Daniel Tomes의 세션인 Apache Spark Core – Practical Optimization이다. General Optimization Practical O...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/spark-config-executors/" class="btn btn-outline-primary" prompt="Older"><p>Spark - Config Executors (스파크 - 최적의 익스큐터 사이즈와 개수 정하기)</p></a> <a href="/posts/blog-migration/" class="btn btn-outline-primary" prompt="Newer"><p>블로그 이사</p></a></div><script src="https://utteranc.es/client.js" repo="jaemunbro/jaemunbro.github.io" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#main > div.row:first-child > div:first-child img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/jaemunbro">Jaemun Jung</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/spark/">spark</a> <a class="post-tag" href="/tags/executor/">executor</a> <a class="post-tag" href="/tags/hadoop/">hadoop</a> <a class="post-tag" href="/tags/ml/">ml</a> <a class="post-tag" href="/tags/mlops/">mlops</a> <a class="post-tag" href="/tags/nosql/">nosql</a> <a class="post-tag" href="/tags/optimization/">optimization</a> <a class="post-tag" href="/tags/scheduler/">scheduler</a> <a class="post-tag" href="/tags/thoughts/">thoughts</a> <a class="post-tag" href="/tags/troubleshooting/">troubleshooting</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jaemunbro.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
