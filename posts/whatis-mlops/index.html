<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="ML - What is MLOps? (MLOps란)" /><meta name="author" content="Jaemun Jung" /><meta property="og:locale" content="en_US" /><meta name="description" content="MLOps가 무엇인고? Medium Blog MLOps가 무엇인고?에 작성했던 글을 옮겨옴." /><meta property="og:description" content="MLOps가 무엇인고? Medium Blog MLOps가 무엇인고?에 작성했던 글을 옮겨옴." /><link rel="canonical" href="https://jaemunbro.github.io/posts/whatis-mlops/" /><meta property="og:url" content="https://jaemunbro.github.io/posts/whatis-mlops/" /><meta property="og:site_name" content="Jaemun Jung" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-22T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ML - What is MLOps? (MLOps란)" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Jaemun Jung"},"description":"MLOps가 무엇인고? Medium Blog MLOps가 무엇인고?에 작성했던 글을 옮겨옴.","url":"https://jaemunbro.github.io/posts/whatis-mlops/","@type":"BlogPosting","headline":"ML - What is MLOps? (MLOps란)","dateModified":"2021-10-22T02:29:22+09:00","datePublished":"2021-05-22T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaemunbro.github.io/posts/whatis-mlops/"},"@context":"https://schema.org"}</script><title>ML - What is MLOps? (MLOps란) | Jaemun Jung</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-WKRD9Q3FPK"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-WKRD9Q3FPK'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://media-exp1.licdn.com/dms/image/C5103AQGerVQv-H9XRg/profile-displayphoto-shrink_400_400/0/1586752686385?e=1640217600&v=beta&t=CDknpaAWkjeC1KFgz9zAhkxrhUhAvxCrcjnZJtElD3U" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jaemun Jung</a></div><div class="site-subtitle font-italic">Data Engineer. Let the data flow!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/jaemunbro" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jaemunbro','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://jaemunbro.medium.com/" aria-label="medium" target="_blank" rel="noopener"> <i class="fab fa-medium"></i> </a> <a href="https://www.linkedin.com/in/ryan-jaemun-jung-055350b3/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>ML - What is MLOps? (MLOps란)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>ML - What is MLOps? (MLOps란)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Jaemun Jung </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, May 22, 2021, 12:00 AM +0900" prep="on" > May 22 <i class="unloaded">2021-05-22T00:00:00+09:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 22, 2021, 2:29 AM +0900" prefix="Updated " > Oct 22 <i class="unloaded">2021-10-22T02:29:22+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3635 words">20 min</span></div></div><div class="post-content"><h1 id="mlops가무엇인고">MLOps가 무엇인고?</h1><blockquote><p><em>Medium Blog <a href="https://medium.com/p/84f68e4690be/edit">MLOps가 무엇인고?</a>에 작성했던 글을 옮겨옴.</em></p></blockquote><p>근래 들어 MLOps라는 용어가 점점 더 보편적이 되어가고 있다. 이것은 또 무엇에 쓰는 물건인고? 한번 알아보자.</p><hr /><h1 id="mlops의-정의">MLOps의 정의</h1><p>먼저 한 문장으로 간단히 정의해보면, 개발과 운영을 따로 나누지 않고 개발의 생산성과 운영의 안정성을 최적화하기 위한 문화이자 방법론이 DevOps이며, 이를 ML 시스템에 적용한 것이 MLOps이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129733-32356180-a815-4801-b3b8-eadd21700ecd.png" alt="image" title="DevOps의 Dev-Ops-QA간 벤다이어그램. 위의 Dev를 ML로 살짝 바꾸면 MLOps(from https://en.wiktionary.org/wiki/DevOps)" /><em>DevOps의 Dev-Ops-QA간 벤다이어그램. 위의 Dev를 ML로 살짝 바꾸면 MLOps?(from https://en.wiktionary.org/wiki/DevOps)</em><br /> <br /> <br /> MLOps는 ML의 전체 Lifecycle를 관리해야 한다. 아래 그림은 IT Production을 위한 AI Lifecycle을 표현한 NVIDIA의 자료다. MLOps란 단순히 ML 모델뿐만 아니라, 데이터를 수집하고 분석하는 단계(Data Collection, Ingestion, Analysis, Labeling, Validation, Preparation), 그리고 ML 모델을 학습하고 배포하는 단계(Model Training, Validation, Deployment)까지 전 과정을 AI Lifecycle로 보고, MLOps의 대상으로 보고 있다.  ML에 기여하는 Engineer들(Data Scientist, Data Engineer, SW Engineer)이 이 Lifecycle을 관리하고 모니터링해야 한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129756-d2121552-6c80-4662-8a2a-bcdaaf86f043.png" alt="image" title="MLOPS by NVIDIA(from https://blogs.nvidia.com/blog/2020/09/03/what-is-mlops/)" /><em>MLOPS by NVIDIA(from https://blogs.nvidia.com/blog/2020/09/03/what-is-mlops/)</em></p><p><br /> <br /> 머신러닝을 엔터프라이즈 레벨에서 서비스에 구현하고자 한다면, MLOps는 선택이 아니라 반드시 구현해야하는 방향이다. 최고 모범사례까지는 안되더라도 최소한 어느 정도 수준까지는. 따라서 MLOps라는 키워드 자체는 시간이 지나면 바뀔 수도 있겠지만, 최소한 지향점은 바뀌지 않을 필수적인 것으로 생각된다. 아래 Google의 자료를 통해 MLOps의 구성과 발전 방향에 대해 조금 더 자세히 알아보자.</p><hr /><blockquote><p>아래는 ML시스템에 일반적으로 바람직한 MLOps를 구성하기 위한 필요 요소와 그 발전 방향에 대해서 Google Cloud의 자료 <a href="https://cloud.google.com/architecture/mlops-continuous-delivery-and-automation-pipelines-in-machine-learning">MLOps: Continuous delivery and automation pipelines in machine learning</a>를 요약, 정리했습니다.</p></blockquote><hr /><h1 id="ml-시스템의요소">ML 시스템의 요소</h1><p>머신러닝 시스템을 프로덕션 환경에 적용하고 운영하기 위해서는 단순히 좋은 머신러닝 모델만으로 가능한 것이 아니다. 머신러닝 모델이 ML 시스템의 핵심이기는 하지만, 전체 프로덕션 ML 시스템의 운영을 고려하면 모델 학습 자체는 오히려 작은 부분을 차지한다고 이야기하기도 한다. 모델을 운영하기 위해 기반 데이터와 인프라를 포함한 모든 시스템이 유기적으로 돌아가야 한다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129766-d822c7c7-dcc9-4021-9e80-b2d898e5e7b3.png" alt="image" title="ML 시스템의 요소(Hidden Technical Debt in Machine Learning Systems)" /><em>ML 시스템의 요소(Hidden Technical Debt in Machine Learning Systems)</em></p><p>위와 같은 ML 시스템의 운영을 위해 DevOps의 원칙을 적용한 것이 MLOps이다.</p><h1 id="devops-vsmlops">DevOps vs MLOps</h1><p>MLOps는 아래와 같은 점들에서 소프트웨어 시스템과 차이를 가진다.</p><ul><li>Testing 일반적인 단위, 통합 테스트 외에 데이터 검증, 학습된 모델 품질 평가, 모델 검증이 추가로 필요하다.<li>Deployment 오프라인에서 학습된 ML모델을 배포하는 수준에 그치는 것이 아니라, 새 모델을 재학습하고, 검증하는 과정을 자동화해야 한다.<li>Production 일반적으로 알고리즘과 로직의 최적화를 통해 최적의 성능을 낼 수 있는 소프트웨어 시스템과 달리, ML 모델은 이에 더해서 지속적으로 진화하는 data profile 자체만으로도 성능이 저하될 수 있다.  즉, 기존 소프트웨어 시스템보다 더 다양한 이유로 성능이 손상될 수 있으므로, 데이터의 summary statistics를 꾸준히 추적하고, 모델의 온라인 성능을 모니터링하여 값이 기대치를 벗어나면 알림을 전송하거나 롤백을 할 수 있어야 한다.<li>CI (Continuous Integration) CI는 code와 components뿐만 아니라 data, data schema, model에 대해 모두 테스트되고 검증되어야 한다.<li>CD (Continuous Delivery) 단일 소프트웨어 패키지가 아니라 ML 학습 파이프라인 전체를 배포해야한다.<li>CT (Continuous Training) ML 시스템만의 속성으로, 모델을 자동으로 학습시키고 평가하는 단계이다.</ul><h1 id="data-science-steps-forml">Data science steps for ML</h1><p>먼저 business use case와 success criteria들을 정하고 나서 ML 모델을 프로덕션에 배포하기까지, 수동이든 자동이든, 모든 ML 프로젝트에는 다음과 같은 스텝들이 수반된다.</p><ol><li>Data Extraction(데이터 추출) 데이터 소스에서 관련 데이터 추출<li>Data Analysis(데이터 분석) 데이터의 이해를 위한 탐사적 데이터 분석(EDA) 수행 모델에 필요한 데이터 스키마 및 특성 이해<li>Data Preparation(데이터 준비) 데이터의 학습, 검증, 테스트 세트 분할<li>Model Training(모델 학습) 다양한 알고리즘 구현, 하이퍼 파라미터 조정 및 적용 output은 학습된 모델.<li>Model Evaluation(모델 평가) holdout test set에서 모델을 평가 output은 모델의 성과 평가 metric.<li>Model Validation(모델 검증) 기준치 이상의 모델 성능이 검증되고, 배포에 적합한 수준인지 검증<li>Model Serving(모델 서빙)<ul><li>온라인 예측을 제공하기 위해 REST API가 포함된 마이크로 서비스<li>배치 예측 시스템<li>모바일 서비스의 embedded 모델</ul><li>Model Monitoring(모델 모니터링) 모델의 예측 성능을 모니터링<br /> <br /><br /></ol><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129776-d5286102-6f05-4b55-81c3-6aa011f1d8db.png" alt="image" title="MS Azure의 자료도 참고해보자. Google의 자료와 정의하는 이름과 부수적인 스텝의 차이가 있지만 ML Lifecycle은 결국 모두 같은 필수적인 스텝들을 가진다(from 애저듣보잡 MLOps 101)" /><em>MS Azure의 자료도 참고해보자. Google의 자료와 정의하는 이름과 부수적인 스텝의 차이가 있지만 ML Lifecycle은 결국 모두 같은 필수적인 스텝들을 가진다(from 애저듣보잡 MLOps 101)</em></p><p><br /> 위와 같은 ML 프로세스의 자동화 수준에 따라 해당 ML 시스템의 성숙도를 평가해볼 수 있다. Google은 가장 보편적인 수동 적용 단계부터 ML과 CI/CD pipeline을 모두 자동화하는 단계까지 성숙도를 세 단계의 레벨로 나누어서 제시하고 있다.</p><p><br /><br /></p><h1 id="mlops-level-0-manualprocess">MLOps level 0: Manual Process</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129799-da62ce84-98f3-4c0a-8b0d-f166865a91a2.png" alt="image" title="MLOps Level 0 : Manual process" /><em>MLOps Level 0 : Manual process</em></p><p><br /> <br /></p><ul><li>데이터 추출과 분석, 모델 학습, 검증을 포함한 모든 단계가 수동<li><strong>ML과 Operation간 disconnection</strong> : 데이터 사이언티스트가 모델을 아티팩트로 전달하고, 엔지니어가 low latency로 프로덕션 환경에 배포. training-serving skew가 발생할 수 있다.<li>Infrequent release iteration : 새 모델 버전의 배포가 뜨문뜨문 비정기적으로 발생한다.<li>No CI : 변경이 많지 않으므로 CI가 고려되지 않는다. 스크립트 수행이나 노트북에서 개인적으로 테스트를 수행한다.<li>No CD : 배포가 자주 없으므로 CD까지 필요하지 않다.<li>Active performance monitoring의 부재 : 로그나 모델의 예측 성능 등을 모니터링하지 않는다. 모델의 성능이 저하되거나 모델이 이상동작 하는 것을 감지할 수 없다.<br /> <br /><h3 id="level-0의-challenges">Level 0의 Challenges</h3><p>모델이 프로덕션 환경에 배포되면 실제 환경과 데이터의 변화들로 인해서 실패하는 경우가 많이 생길 수 있다. (원인에 대해서 더 자세히 알아보려면 : <a href="https://www.forbes.com/sites/forbestechcouncil/2019/04/03/why-machine-learning-models-crash-and-burn-in-production/">Why Machine Learning Models Crash and Burn in Production.</a>)</p></ul><p>모델의 정확도를 프로덕션 환경에서도 유지하려면 다음과 같은 노력을 해야한다.</p><ul><li>프로덕션 환경의 모델 품질 모니터링 : 성능 저하 및 모델의 staleness(신선도가 떨어짐)를 감지<li>최신 데이터로 모델을 재학습<li>새로운 feature의 추출, 모델 아키텍처, 하이퍼파라미터 등의 새로운 구현을 계속 시도</ul><p><br /><br /></p><h1 id="mlops-level-1-ml-pipeline-automation">MLOps level 1: ML pipeline automation</h1><p>Level 1의 목표는 ML 파이프라인을 자동화하여 모델을 지속적으로 학습시키는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129806-92f49ae2-34cb-4173-8c08-750982a9ef24.png" alt="image" title="CT를 위한 ML 파이프라인 자동화" /><em>CT를 위한 ML 파이프라인 자동화</em></p><h3 id="level-1-의특징들">Level 1 의 특징들</h3><ul><li>Rapid experiment : 실험을 빠르게 반복하고, 전체 파이프라인을 프로덕션으로 빠르게 배포<li>개발 환경에서 쓰인 파이프라인이 운영 환경에도 그대로 쓰임. DevOps의 MLOps 통합에 있어 핵심적인 요소<li>포로덕션 모델의 CT(Continuous Training) : 새로운 데이터를 사용하여 프로덕션 모델이 자동으로 학습<li>CD: 새로운 데이터로 학습되고 검증된 모델이 지속적으로 배포됨.<li>Level 0에서는 학습된 모델만을 배포했다면 Level 1에서는 전체 파이프라인이 배포됨.</ul><h3 id="ct를-위해-필요한것들">CT를 위해 필요한 것들</h3><p>새로운 데이터를 통해 새로운 모델을 지속적으로 학습하므로, data validation과 model validation이 필수적이다.</p><h3 id="data-and-model-validation">Data and Model Validation</h3><ul><li>Data validation 데이터 검증에서 실패하면, 신규 모델의 배포를 중지해야한다. 이 의사결정도 자동화되어야 한다.<ul><li>Data schema skews: 예상치 못한 데이터가 생성된 경우, 예상범주를 벗어난 특성이 생성된 경우 등.<li>Data values skews: 데이터의 통계적 속성이 변화되고 있음을 감지해야 한다. 이러한 변화를 감지해 모델의 재학습을 트리거한다.</ul><li>Model Validation 모델이 새로운 데이터로 재학습을 마치고, 운영 환경에 반영되기 전에 평가되고 검증되어야 한다. <ul><li>테스트 데이터셋으로 평가 메트릭을 생성한다.<li>평가메트릭을 새로운 모델과, 현재 모델 사이에 비교한다. 새로운 모델이 기존 모델보다 더 나은 성과를 보이는지 검증한다.<li>새로운 모델의 성능이 다양한 세그먼트에서 일관된 성과를 보이는지 검증한다.<li>인프라 및 예측 서비스 API와 호환성 테스트를 완료한다.</ul></ul><h3 id="feature-store">Feature store</h3><p>Feature store는 학습과 서빙에 사용되는 모든 feature들을 모아둔 저장소이다. 대용량 배치 처리와 low latency의 실시간 서빙을 모두 지원할 수 있어야 한다.</p><ul><li>사용가능한 모든 feature의 저장소<li>항상 최신화된 데이터</ul><h3 id="metadata-management">Metadata management</h3><p>ML 파이프라인의 실행 정보, 데이터 및 아티팩트의 계보 등을 저장한다.</p><ul><li>실행된 파이프라인 버전, 시작-종료 시간, 소요시간 등<li>파이프라인의 실행자, 매개변수 인수<li>이전 모델에 대한 포인터(모델의 롤백이 필요한 경우)<li>모델 평가 단계에서 생성된 모델 평가 측정 항목.</ul><h3 id="ml-pipelinetrigger">ML pipeline trigger</h3><ul><li>모델을 재학습 시키는 파이프라인의 자동화<li>매일, 매주 또는 매월 등의 재학습 빈도는 데이터 패턴의 변경 빈도와 모델 재학습 비용에 따라 달라질 수 있다.<li>모델 성능 저하가 눈에 띄는 경우 모델 재학습 트리거 <br /><br /></ul><h1 id="mlops-level-2-cicd-pipeline-automation">MLOps level 2: CI/CD pipeline automation</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129823-b9b4f489-df99-44ed-9c24-8aa35d953368.png" alt="image" title="CI/CD and automated ML pipeline" /><em>CI/CD and automated ML pipeline</em></p><p>Google은 Level 1에서 CI/CD면에서 집중적으로 강화된 시스템을 MLOps Level 2로 구분하고 있다. CI/CD 자동화 파이프라인의 단계는 다음과 같이 보여줄 수 있다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129840-9ee1cff5-b82e-4c3b-9694-c4e82710f944.png" alt="image" title="Stages of the CI/CD automated ML pipeline" /><em>Stages of the CI/CD automated ML pipeline</em> <br /> <br /></p><h3 id="continuous-integration">Continuous Integration</h3><p>파이프라인과 구성요소는 커밋되거나 소스 레포지토리로 푸시될 때 빌드, 테스트, 패키징된다. 아래와 같은 테스트가 포함될 수 있다.</p><ul><li>특성 추출 로직을 테스트<li>모델에 구현된 메소드를 단위 테스트<li>모델 학습이 수렴하는지 테스트<li>모델 학습에서 0으로 나누거나 작은 값 또는 큰 값을 조작하여 NaN 값을 생성하지 않는지 테스트<li>파이프라인의 각 구성요소가 예상된 아티팩트를 생성하는지 테스트<li>파이프라인 구성요소간 통합 테스트</ul><h3 id="continuous-delivery">Continuous Delivery</h3><ul><li>모델 배포 전 모델과 대상 인프라 호환성 확인. (패키지 호환 여부/메모리/컴퓨팅 자원등)<li>서비스 API 호출 테스트<li>QPS 및 지연 시간과 같은 서비스 부하 테스트</ul><hr /><p>위 Google의 자료에서 보았듯, MLOps는 어떤 면에서 DevOps보다 더 복잡하고 많은 테스트를 필요로 하는 면도 있다. 소프트웨어의 코드 테스트 뿐만 아니라 데이터와 모델의 성능까지 테스트하고 검증해야하기 때문이다. <a href="https://en.wikipedia.org/wiki/DataOps">DataOps</a>라는 방법론이 이미 MLOps에 디폴트로 녹아들어가져 있어야 하는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/29077671/138129859-9dc152be-8aed-46bb-a81d-8107c0a7dbb3.png" alt="image" title="Traditional Software System과 ML System의 테스트 차이. 근데 쫌 ML쪽만 이런저런 테스트를 더 넣은 것 같긴 한데.. 아무튼 데이터부터 테스트해야할 것이 더 많다는 이야기..! (from [애저듣보잡 MLOps 101](https://youtu.be/q2N6NZKxipg))" /><em>Traditional Software System과 ML System의 테스트 차이. 근데 쫌 ML쪽만 이런저런 테스트를 더 넣은 것 같긴 한데.. 아무튼 데이터부터 테스트해야할 것이 더 많다는 이야기..! (from <a href="https://youtu.be/q2N6NZKxipg">애저듣보잡 MLOps 101</a>)</em></p><p><br /><br /></p><h3 id="맺으며">맺으며</h3><p>엔터프라이즈 레벨에서 프로덕션 환경에 ML모델을 운영하고자 한다면 MLOps는 선택이 아닌 필수사항이 되어가고 있는 것으로 보인다. Google에서 제시하는 모범사례까지는 안되더라도, 안정적이고 더 좋은 성능의 ML 서비스를 위해서 최대한 이를 지향점으로 삼고 구현해나가야할 것이다. <br /><br /></p><h3 id="disclaimer">Disclaimer</h3><p>위 글의 내용은 개인적으로 정리한 내용으로, Google의 공식 문서 및 의견과 다를 수 있습니다.</p><hr /><h3 id="references">References</h3><p><a href="https://cloud.google.com/solutions/machine-learning/mlops-continuous-delivery-and-automation-pipelines-in-machine-learning">[Google Cloud] MLOps: Continuous delivery and automation pipelines in machine learning</a> <br /> <a href="https://blogs.nvidia.com/blog/2020/09/03/what-is-mlops/">What is MLOps?</a><br /> <a href="https://youtu.be/q2N6NZKxipg">[애저듣보잡] MLOps 101 | ep1. MLOps가 뭐길래</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/ml/'>ML</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/ml/" class="post-tag no-text-decoration" >ml</a> <a href="/tags/mlops/" class="post-tag no-text-decoration" >mlops</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=ML - What is MLOps? (MLOps란) - Jaemun Jung&url=https://jaemunbro.github.io/posts/whatis-mlops/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=ML - What is MLOps? (MLOps란) - Jaemun Jung&u=https://jaemunbro.github.io/posts/whatis-mlops/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=ML - What is MLOps? (MLOps란) - Jaemun Jung&url=https://jaemunbro.github.io/posts/whatis-mlops/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://jaemunbro.github.io/posts/whatis-mlops/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/whatis-mlops/">ML - What is MLOps? (MLOps란)</a><li><a href="/posts/blog-migration/">블로그 이사</a><li><a href="/posts/yarn-scheduler/">Hadoop - YARN Scheduler setting (하둡 - YARN 스케쥴러 설정)</a><li><a href="/posts/spark-config-executors/">Spark - Config Executors (스파크 - 최적의 익스큐터 사이즈와 개수 정하기)</a><li><a href="/posts/troubleshooting-spark/">Spark - Troubleshooting Cheatsheet (스파크 - 트러블슈팅 가이드)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spark/">spark</a> <a class="post-tag" href="/tags/executor/">executor</a> <a class="post-tag" href="/tags/hadoop/">hadoop</a> <a class="post-tag" href="/tags/ml/">ml</a> <a class="post-tag" href="/tags/mlops/">mlops</a> <a class="post-tag" href="/tags/nosql/">nosql</a> <a class="post-tag" href="/tags/optimization/">optimization</a> <a class="post-tag" href="/tags/scheduler/">scheduler</a> <a class="post-tag" href="/tags/thoughts/">thoughts</a> <a class="post-tag" href="/tags/troubleshooting/">troubleshooting</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/yarn-scheduler/"><div class="card-body"> <span class="timeago small" > May 9 <i class="unloaded">2021-05-09T11:45:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hadoop - YARN Scheduler setting (하둡 - YARN 스케쥴러 설정)</h3><div class="text-muted small"><p> YARN의 스케쥴러 타입에 대해 알아보기 전에 YARN에 대해서도 간단히 살펴보자. YARN YARN은 (Yet Another Resource Negotiator)은 하둡의 크러스터 자원관리 시스템이다. YARN은 클러스터의 자원을 요청하고 사용하기 위한 API를 제공한다. YARN은 리소스 매니저와 노드 매니저 두가지 장기 실행 데몬을 통해...</p></div></div></a></div><div class="card"> <a href="/posts/spark-basic-optimization/"><div class="card-body"> <span class="timeago small" > May 1 <i class="unloaded">2021-05-01T01:43:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spark - Core Optimization (스파크 - 최적화)</h3><div class="text-muted small"><p> 스파크의 기본적인 최적화 세팅 방법들에 대해 정리해보자. 본문 작성에 주되게 참조한 소스는 Spark + AI Summit Europe 2019에서 발표한 Databricks의 Daniel Tomes의 세션인 Apache Spark Core – Practical Optimization이다. General Optimization Practical ...</p></div></div></a></div><div class="card"> <a href="/posts/troubleshooting-spark/"><div class="card-body"> <span class="timeago small" > Apr 30 <i class="unloaded">2021-04-30T01:43:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spark - Troubleshooting Cheatsheet (스파크 - 트러블슈팅 가이드)</h3><div class="text-muted small"><p> 스파크의 문제 사례들과 그 해결 방법들에 대해 알아보자. 문제 케이스들은 일부 직접 겪은 것들과 본문 하단 링크의 케이스들을 취합하였다. Troubleshooting Tips 트러블슈팅을 위해 verbose mode를 활용하자 spark-submit --driver-memory 10g --verbose --master yarn --executor...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/yarn-scheduler/" class="btn btn-outline-primary" prompt="Older"><p>Hadoop - YARN Scheduler setting (하둡 - YARN 스케쥴러 설정)</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div><script src="https://utteranc.es/client.js" repo="jaemunbro/jaemunbro.github.io" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async> </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#main > div.row:first-child > div:first-child img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/jaemunbro">Jaemun Jung</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/spark/">spark</a> <a class="post-tag" href="/tags/executor/">executor</a> <a class="post-tag" href="/tags/hadoop/">hadoop</a> <a class="post-tag" href="/tags/ml/">ml</a> <a class="post-tag" href="/tags/mlops/">mlops</a> <a class="post-tag" href="/tags/nosql/">nosql</a> <a class="post-tag" href="/tags/optimization/">optimization</a> <a class="post-tag" href="/tags/scheduler/">scheduler</a> <a class="post-tag" href="/tags/thoughts/">thoughts</a> <a class="post-tag" href="/tags/troubleshooting/">troubleshooting</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jaemunbro.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
